# 透過Aspire編排環境

因本案多為整合測試，為降低操作上技術門檻，加速本案驗證流程、增加可視化(如：服務運行狀況、相依性)，選用微軟提供的`Aspire`作為主要的編排工具

> 本案的[核心驗證](#多租戶資料庫)

## 編排架構

搭建`資料庫服務`與`Web API`，讓`Web API`可向私網內的`資料庫服務`通訊，並提供`Web API組態`可存取`資料庫服務`的連線字串

### 資料庫服務

從初始資源([提供測試連結的公司SQL.sql](../提供測試連結的公司SQL.sql))萃取資訊，建立仿真的資料庫服務，新增並掛載資料庫(`a0ac`、`gm9415`、`oacloud`)

* 資料表(`hr010`)
* Seed Data

### Web API組態

建立服務間的關聯性、依賴性，並傳遞所需的環境參數

* 資料庫連線字串(`a0ac`、`gm9415`、`oacloud`)

## 多租戶資料庫

串接資料庫：`a0ac`、`gm9415`、`oacloud`

* 租戶身分擷取
* 資料庫上下文切換
  * 存取(訪問)測試
* 鷹架工程-仿真資料庫(`a0ac.dbo.hr010`)
  * 取資料測試

## 自動化整合性測試

增加本驗證的不變性，提高可重複性

* 單例測試
* 多例測試
* 編排生命週期
